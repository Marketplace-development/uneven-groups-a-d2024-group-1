{% extends 'base.html' %}

{% block body_class %}about-page{% endblock %}

{% block head %}
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js"></script>

<title>About Us</title>
{% endblock %}

{% block body %}
<!-- Top white bar -->
<div style="display: flex; justify-content: center; align-items: center; background-color: white; padding: 10px 10px; border-bottom: 1px solid #eaeaea; position: fixed; top: 0; width: 100%; z-index: 1000; text-align: center;">
    <!-- Left Section: Logo and Buttons -->
    <div style="display: flex; align-items: center; justify-content: center;">
        <a href="{{ url_for('main.main_page') }}" style="display: inline-block;">
            <img src="{{ url_for('static', filename='images/logo_wit2.JPG') }}" alt="logo" style="height: 50px; margin-right: 20px; top: -3px;">
        </a>
        <!-- Home Button -->
        <form action="{{ url_for('main.main_page') }}" method="get" style="margin-left: 30px;">
            <button type="submit" style="background: none; border: none; font-size: 1.3em; color: #333; cursor: pointer;">Home</button>
        </form>
        <!-- Locations Dropdown -->
        <div style="position: relative; margin-left: 30px;">
            <button style="background: none; border: none; font-size: 1.3em; color: #333; cursor: pointer;">Locations ▼</button>
            <div class="dropdown-menu" style="width: 200px; position: absolute; top: 100%; left: 0; background: white; border: 1px solid #ccc; border-radius: 10px; display: none; padding: 5px;">
                <a href="{{ url_for('main.all_locations') }}" style="text-decoration: none; color: #333; display: block; padding: 5px; text-align: left;">All Locations</a>
                <a href="{{ url_for('main.locations') }}" style="text-decoration: none; color: #333; display: block; padding: 5px; text-align: left;">Upload Location</a>
            </div>
        </div>
        <!-- Reservation Dropdown -->
        <div style="position: relative; margin-left: 30px;">
            <button style="background: none; border: none; font-size: 1.3em; color: #333; cursor: pointer;">Reservation ▼</button>
            <div class="dropdown-menu" style="width: 200px; position: absolute; top: 100%; left: 0; background: white; border: 1px solid #ccc; border-radius: 10px; display: none; padding: 5px;">
                <a href="{{ url_for('main.reservations') }}" style="text-decoration: none; color: #333; display: block; padding: 5px; text-align: left;">Make Reservation</a>
                <a href="{{ url_for('main.current_reservations') }}" style="text-decoration: none; color: #333; display: block; padding: 5px; text-align: left;">Your Reservation</a>
                <a href="{{ url_for('main.location_bookings') }}" style="text-decoration: none; color: #333; display: block; padding: 5px; text-align: left;">Your Bookings</a>
            </div>
        </div>
        <!-- About Us Button -->
        <form action="{{ url_for('main.about') }}" method="get" style="margin-left: 30px; margin-right: 150px;">
             <button type="submit" style="background: none; border: none; font-size: 1.3em; color: #333; cursor: pointer;">About Us</button>
        </form>
    </div>

    <!-- Right Section: Authentication Buttons -->
    <div style="display: flex; align-items: center; gap: 10px;">
        <!-- Your Account Button -->
        <form action="{{ url_for('main.your_account') }}" method="get" style="margin-left: 150px;">
            <button type="submit" style="display: flex; align-items: center; background: none; border: none; font-size: 1.3em; color: #333; cursor: pointer;">
                <img src="{{ url_for('static', filename='images/user.jpg') }}" alt="User Avatar" width="25" height="25" style="margin-right: 10px; border-radius: 0; color: #1946ca;">
                Your Account
            </button>
        </form>

        <span style="color: #ccc;">|</span>
        <!-- Logout Button -->
        <form action="{{ url_for('main.home') }}" method="get" style="margin: 0;">
            <button type="submit" style="background: none; border: none; font-size: 1.3em; color: #333; cursor: pointer;">Logout</button>
        </form>
    </div>
</div>

<div id="reservation-count-container" style="text-align: center; font-size: 3em; margin-top: 20px;">
    <h2> We already helped:</h2>
    <div id="reservation-count" class="flip-clock">
        <div id="first-digit" class="flip-container">
            <div class="flip-card">
                <div class="flip-card-inner">
                    <div class="flip-card-front">0</div>
                    <div class="flip-card-back">0</div>
                </div>
            </div>
        </div>
        <div id="second-digit" class="flip-container">
            <div class="flip-card">
                <div class="flip-card-inner">
                    <div class="flip-card-front">0</div>
                    <div class="flip-card-back">0</div>
                </div>
            </div>
        </div>
        <div id="third-digit" class="flip-container">
            <div class="flip-card">
                <div class="flip-card-inner">
                    <div class="flip-card-front">0</div>
                    <div class="flip-card-back">0</div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Main Content of About Us Page -->
<div class="container" style="margin-top: 80px; margin-bottom: 30px; padding: 20px;">
    <h1 class="text-modern">About Us</h1>
    
    <div class="section">
        <h2>Our Story</h2>
        <p>Founded in 2024, Chairing began with a simple goal: to make it easier for students to find comfortable and inspiring places to study. Since then, we've grown from a small initiative into a platform connecting students with study spots across a variety of locations. We are passionate about helping students succeed by providing access to suitable study environments and committed to building strong partnerships with local businesses.</p>
    </div>

    <div class="section">
        <h2>Mission and Vision</h2>
        <p><strong>Mission:</strong> Our mission is to connect students with the ideal study environment by partnering with restaurants, cafes, and other locations where they can reserve a space to study effectively.</p>
        <p><strong>Vision:</strong> We envision a future where students have easy access to comfortable and welcoming study spaces everywhere, empowering them to achieve their academic goals.</p>
    </div>

    <div class="section">
        <h2>Our Values</h2>
        <p>At Chairing, our core values are the foundation of everything we do. We believe in:</p>
        <ul>
            <li><strong>Integrity:</strong> Always being honest and transparent in our dealings.</li>
            <li><strong>Student-Centered Approach:</strong> Ensuring students' needs come first, providing a great experience every time.</li>
            <li><strong>Community Collaboration:</strong> Creating partnerships that benefit both students and local businesses, fostering community growth.</li>
        </ul>
    </div>

    <div class="section">
        <h2>Meet Our Team</h2>
        <ul class="team-list">
            <li><strong>Milan Van Nuffel:</strong> Developer/Programmer</li>
            <li><strong>Vic Vereecke:</strong> Developer/Programmer</li>
            <li><strong>Aline:</strong> Database & Visual Paradigm</li>
            <li><strong>Jullie:</strong> Database & Visual Paradigm</li>
            <li><strong>Morgane:</strong> Database & Visual Paradigm</li>
        </ul>
    </div>

    <div class="section">
        <h2>What Makes Us Unique</h2>
        <p>We stand out in the industry because of our dedication to building meaningful connections between students and local businesses. Our platform enables students to easily find and reserve study spaces, while also helping cafes, restaurants, and other venues utilize their space more effectively during quieter hours.</p>
    </div>
</div>

<!-- Footer Section with black background -->
<div style="background-color: black; color: white; padding: 75px; height: 100px;">
    <div style="display: flex; justify-content: center; align-items: flex-start; text-align: center; gap: 100px; max-width: 1200px; margin: 0 auto; margin-top: -50px;">
        <!-- Locations Column -->
        <div style="text-align: left;">
            <p style="font-size: 1.5em; font-weight: bold; text-align: left; color:white;">Locations</p>
            <form action="{{ url_for('main.all_locations') }}" method="get" style="margin: 0;">
                <button type="submit" style="background: none; border: none; color: white; font-size: 1.2em; cursor: pointer; margin-bottom: 10px;">Locations</button>
            </form>
            <form action="{{ url_for('main.locations') }}" method="get" style="margin: 0;">
                <button type="submit" style="background: none; border: none; color: white; font-size: 1.2em; cursor: pointer; margin-bottom: 10px;">Upload Location</button>
            </form>
        </div>

        <!-- Reservations Column -->
        <div style="text-align: left;">
            <p style="font-size: 1.5em; font-weight: bold; text-align: left; color:white;">Reservations</p>
            <form action="{{ url_for('main.reservations') }}" method="get" style="margin: 0;">
                <button type="submit" style="background: none; border: none; color: white; font-size: 1.2em; cursor: pointer; margin-bottom: 10px;">Make Reservation</button>
            </form>
            <form action="{{ url_for('main.current_reservations') }}" method="get" style="margin: 0;">
                <button type="submit" style="background: none; border: none; color: white; font-size: 1.2em; cursor: pointer; margin-bottom: 10px;">Your Reservations</button>
            </form>
            <form action="{{ url_for('main.location_bookings') }}" method="get" style="margin: 0;">
                <button type="submit" style="background: none; border: none; color: white; font-size: 1.2em; cursor: pointer; margin-bottom: 10px;">Your Bookings</button>
            </form>
        </div>

        <!-- Community Column -->
        <div style="text-align: left;">
            <p style="font-size: 1.5em; font-weight: bold; text-align: left; color:white;">Community</p>
            <form action="{{ url_for('main.your_account') }}" method="get" style="margin: 0;">
                <button type="submit" style="background: none; border: none; color: white; font-size: 1.2em; cursor: pointer; margin-bottom: 10px;">Your Account</button>
            </form>
            <form action="{{ url_for('main.about') }}" method="get" style="margin: 0;">
                <button type="submit" style="background: none; border: none; color: white; font-size: 1.2em; cursor: pointer; margin-bottom: 10px;">About Us</button>
            </form>
        </div>
    </div>
</div>
<script>
    // Initialize Supabase client
    const supabaseUrl = 'https://btwvlgjzzlprggxkuywo.supabase.co'; // Replace with your Supabase URL
    const supabaseKey = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJ0d3ZsZ2p6emxwcmdneGt1eXdvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Mjk0OTc1MDYsImV4cCI6MjA0NTA3MzUwNn0.PZqEucZAfFEHztuaJd6L3gmScpT-GM3kjxaunAceOBo'; // Replace with your anon key
    const supabase = supabase.createClient(supabaseUrl, supabaseKey);

    // Fetch total reservations
    async function fetchReservations() {
        const { data, error } = await supabase
            .from('reservation') // Assuming 'reservations' is your table name
            .select('id', { count: 'exact' }); // Count all reservations

        if (error) {
            console.error('Error fetching reservations:', error);
            return;
        }

        const totalReservations = data.length;
        
        // Update the flip clock number
        const reservationCountElement = document.getElementById('reservation-count-container');
        if (reservationCountElement) {
            reservationCountElement.textContent = totalReservations.toString().padStart(3, '0'); // Pad with zeros
        }
    }

    // Call the function on page load
    fetchReservations();
</script>


{% endblock %}

